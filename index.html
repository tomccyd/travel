<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover" />
  <title>Singapore</title>
  <style>
    :root{
      --bg-overlay: rgba(0,0,0,0.35);
      --accent: #00aaff;
      --tab-height: 60px;
      --safe-bottom: env(safe-area-inset-bottom, 0px);
    }
    html,body{
      height:100%;
      margin:0;
      padding:0;
      -webkit-font-smoothing:antialiased;
      -webkit-text-size-adjust:100%;
      box-sizing:border-box;
      overflow-x:hidden; /* guard against horizontal scroll */
      font-family:system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:#fff;
    }
    /* Background */
    body::before{
      content:"";
      position:fixed;
      inset:0;
      background-image: url('https://images.unsplash.com/photo-1505765052659-3a4f3b3b6f9e?auto=format&fit=crop&w=1600&q=80');
      background-size:cover;
      background-position:center;
      z-index:-2;
      filter: contrast(0.95) saturate(1.05);
    }
    body::after{
      content:"";
      position:fixed;
      inset:0;
      background:var(--bg-overlay);
      z-index:-1;
    }

    /* App layout */
    .app {
      min-height:100vh;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      padding-bottom: calc(var(--tab-height) + var(--safe-bottom));
    }

    .header {
      display:flex;
      align-items:center;
      gap:12px;
      padding: 14px 16px;
      background: linear-gradient(180deg, rgba(0,0,0,0.25), transparent);
      backdrop-filter: blur(4px);
    }
    .title {
      font-size:18px;
      font-weight:600;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .title .logo {
      width:30px;
      height:30px;
      border-radius:6px;
      background:rgba(255,255,255,0.12);
      display:inline-flex;
      align-items:center;
      justify-content:center;
      font-size:18px;
    }

    /* Content area */
    .content {
      flex:1 1 auto;
      padding:16px;
      overflow:auto;
      -webkit-overflow-scrolling:touch;
    }
    section.tab {
      display:none;
    }
    section.tab.active {
      display:block;
    }

    /* Bottom tabs */
    .bottom-nav {
      position:fixed;
      left:0;
      right:0;
      bottom:0;
      height:var(--tab-height);
      padding-bottom:var(--safe-bottom);
      display:flex;
      background: linear-gradient(0deg, rgba(0,0,0,0.55), rgba(0,0,0,0.35));
      border-top:1px solid rgba(255,255,255,0.06);
      z-index:10;
    }
    .bottom-nav .tab-btn {
      flex:1 1 0;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:3px;
      color: #e6f7ff;
      text-decoration:none;
      font-size:12px;
      padding:6px 4px;
      box-sizing:border-box;
      user-select:none;
    }
    .bottom-nav .tab-btn .icon {
      font-size:18px;
      line-height:1;
    }
    .bottom-nav .tab-btn.active {
      background: rgba(255,255,255,0.03);
      color: white;
    }

    /* Examples / small UI */
    .card {
      background: rgba(255,255,255,0.06);
      padding:12px;
      border-radius:10px;
      margin-bottom:12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.25);
    }
    label {display:block; font-size:13px; margin-bottom:8px; color:#e7f7ff;}
    .number-control {
      display:inline-flex;
      align-items:center;
      gap:8px;
      background:rgba(255,255,255,0.03);
      padding:8px;
      border-radius:8px;
    }
    .number-control button {
      width:34px;
      height:34px;
      border-radius:6px;
      border:0;
      background:rgba(255,255,255,0.06);
      color:white;
      font-size:18px;
    }
    .number-control input[type="number"]{
      width:64px;
      text-align:center;
      border:0;
      background:transparent;
      color:white;
      font-size:16px;
    }

    /* Responsive text sizing for small phones */
    @media (max-width:400px){
      .title { font-size:16px; }
      .bottom-nav .tab-btn { font-size:11px; padding:6px 2px; }
    }

  </style>
</head>
<body>
  <div class="app" role="application" aria-label="Singapore travel app">
    <header class="header">
      <div class="title" aria-hidden="false">
        <div class="logo" aria-hidden="true">ğŸ‡¸ğŸ‡¬</div>
        <div>
          Singapore
        </div>
      </div>
      <div style="margin-left:auto; font-size:13px; opacity:0.95;">Currency: <strong id="currencyLabel">S$</strong></div>
    </header>

    <main class="content" id="content">
      <!-- Home / Sample menu -->
      <section id="tab-home" class="tab active" data-tab="home">
        <div class="card">
          <h3 style="margin:0 0 8px 0">æ­¡è¿ â€” Singapore</h3>
          <p style="margin:0 0 8px 0">ç¤ºç¯„: é …ç›®èˆ‡åƒ¹æ ¼é¡¯ç¤ºç‚º SGDã€‚</p>
          <div style="display:flex;gap:12px;flex-wrap:wrap;">
            <div class="card" style="min-width:160px; flex:1 1 160px;">
              <div style="font-weight:600">Chilli Crab</div>
              <div style="margin-top:6px"><span class="price" data-amount="48">S$48.00</span></div>
            </div>
            <div class="card" style="min-width:160px; flex:1 1 160px;">
              <div style="font-weight:600">Hainanese Chicken Rice</div>
              <div style="margin-top:6px"><span class="price" data-amount="8">S$8.00</span></div>
            </div>
          </div>
        </div>
      </section>

      <!-- è¨˜å¸³ - cleared content -->
      <section id="tab-expense" class="tab" data-tab="expense" aria-labelledby="expenseTitle">
        <h3 id="expenseTitle">è¨˜å¸³</h3>
        <div class="card">
          <!-- intentionally empty (removed pre-stored content) -->
          <p style="opacity:0.9">å°šæœªæœ‰è¨˜éŒ„ã€‚è«‹æ–°å¢é …ç›®ã€‚</p>
          <div style="margin-top:8px;">
            <input type="text" id="new-expense-desc" placeholder="æè¿°" style="width:60%; padding:8px; border-radius:6px; border:0; background:rgba(255,255,255,0.04); color:white;">
            <input type="number" id="new-expense-amt" placeholder="é‡‘é¡" style="width:30%; padding:8px; border-radius:6px; border:0; background:rgba(255,255,255,0.04); color:white;">
            <button id="addExpense" style="margin-left:8px; padding:8px 10px; border-radius:6px; border:0; background:var(--accent); color:#002;">æ–°å¢</button>
          </div>
        </div>
        <ul id="expenseList" style="padding-left:0; list-style:none; margin-top:8px;"></ul>
      </section>

      <!-- è¡Œå‰ - cleared content -->
      <section id="tab-packing" class="tab" data-tab="packing" aria-labelledby="packingTitle">
        <h3 id="packingTitle">è¡Œå‰</h3>
        <div class="card">
          <!-- intentionally empty (removed pre-stored content) -->
          <p style="opacity:0.9">å°šæœªå»ºç«‹æ¸…å–®ã€‚è«‹æ–°å¢æ¸…å–®é …ç›®ã€‚</p>
          <div style="margin-top:8px;">
            <input id="newPacking" placeholder="æ–°å¢é …ç›®" style="width:72%; padding:8px; border-radius:6px; border:0; background:rgba(255,255,255,0.04); color:white;">
            <button id="addPacking" style="margin-left:8px; padding:8px 10px; border-radius:6px; border:0; background:var(--accent); color:#002;">æ–°å¢</button>
          </div>
        </div>
        <ul id="packingList" style="padding-left:0; list-style:none; margin-top:8px;"></ul>
      </section>

      <!-- è¨­å®š -->
      <section id="tab-settings" class="tab" data-tab="settings" aria-labelledby="settingsTitle">
        <h3 id="settingsTitle">è¨­å®š</h3>
        <div class="card">
          <!-- Removed the "Tokyo eMenu v1.2" sentence per request -->
          <label>æ—…éŠå¤©æ•¸</label>
          <div class="number-control" role="group" aria-label="æ—…éŠå¤©æ•¸æ§åˆ¶">
            <button id="days-decrease" aria-label="æ¸›å°‘å¤©æ•¸">âˆ’</button>
            <input id="travelDays" type="number" min="1" max="365" value="30" aria-live="polite" />
            <button id="days-increase" aria-label="å¢åŠ å¤©æ•¸">+</button>
          </div>
        </div>

        <div class="card">
          <label>è²¨å¹£</label>
          <select id="currencySelect" aria-label="é¸æ“‡è²¨å¹£" style="padding:8px; border-radius:8px; border:0; background:rgba(255,255,255,0.04); color:white;">
            <option value="SGD" selected>SGD (S$)</option>
            <option value="JPY">JPY (Â¥)</option>
            <option value="USD">USD ($)</option>
          </select>
        </div>
      </section>

      <!-- More / placeholder -->
      <section id="tab-more" class="tab" data-tab="more">
        <div class="card">
          <h3>æ›´å¤š</h3>
          <p>å…¶ä»–åŠŸèƒ½æˆ–å¿«é€Ÿé€£çµã€‚</p>
        </div>
      </section>
    </main>

    <nav class="bottom-nav" role="navigation" aria-label="ä¸»è¦åˆ†é ">
      <button class="tab-btn active" data-target="home" aria-pressed="true">
        <div class="icon">ğŸ </div>
        <div class="label">é¦–é </div>
      </button>
      <button class="tab-btn" data-target="expense">
        <div class="icon">ğŸ’³</div>
        <div class="label">è¨˜å¸³</div>
      </button>
      <button class="tab-btn" data-target="packing">
        <div class="icon">ğŸ§³</div>
        <div class="label">è¡Œå‰</div>
      </button>
      <button class="tab-btn" data-target="settings">
        <div class="icon">âš™ï¸</div>
        <div class="label">è¨­å®š</div>
      </button>
      <button class="tab-btn" data-target="more">
        <div class="icon">â‹¯</div>
        <div class="label">æ›´å¤š</div>
      </button>
    </nav>
  </div>

  <script>
    (function(){
      // Currency default
      let currency = 'SGD';
      const currencySymbols = { SGD: 'S$', JPY: 'Â¥', USD: '$' };
      document.getElementById('currencyLabel').textContent = currencySymbols[currency] || currency;

      // Tab navigation
      const tabButtons = document.querySelectorAll('.bottom-nav .tab-btn');
      const tabs = document.querySelectorAll('section.tab');
      function showTab(name){
        tabs.forEach(t => t.classList.toggle('active', t.dataset.tab === name));
        tabButtons.forEach(b => {
          const active = b.dataset.target === name;
          b.classList.toggle('active', active);
          b.setAttribute('aria-pressed', active ? 'true' : 'false');
        });
      }
      tabButtons.forEach(btn => {
        btn.addEventListener('click', () => showTab(btn.dataset.target));
      });

      // Travel days +/- controls
      const daysInput = document.getElementById('travelDays');
      document.getElementById('days-decrease').addEventListener('click', () => {
        const min = parseInt(daysInput.min || 1, 10);
        let v = Math.max(min, parseInt(daysInput.value || min, 10) - 1);
        daysInput.value = v;
      });
      document.getElementById('days-increase').addEventListener('click', () => {
        const max = parseInt(daysInput.max || 365, 10);
        let v = Math.min(max, parseInt(daysInput.value || 1, 10) + 1);
        daysInput.value = v;
      });

      // Currency select - updates display label and sample prices
      const currencySelect = document.getElementById('currencySelect');
      currencySelect.addEventListener('change', (e) => {
        currency = e.target.value;
        document.getElementById('currencyLabel').textContent = currencySymbols[currency] || currency;
        // Update price displays (simple example)
        document.querySelectorAll('.price').forEach(node=>{
          const amount = parseFloat(node.dataset.amount || 0);
          const symbol = currencySymbols[currency] || currency;
          // This example doesn't convert amounts between currencies; it only changes the symbol.
          node.textContent = symbol + amount.toFixed(2);
        });
      });

      // Simple expense/packing add logic (keeps things empty by default)
      document.getElementById('addExpense').addEventListener('click', () => {
        const desc = document.getElementById('new-expense-desc').value.trim();
        const amt = document.getElementById('new-expense-amt').value.trim();
        if(!desc || !amt) return alert('è«‹è¼¸å…¥æè¿°èˆ‡é‡‘é¡');
        const li = document.createElement('li');
        li.className = 'card';
        li.style.marginBottom = '8px';
        li.textContent = `${desc} â€” ${document.getElementById('currencyLabel').textContent}${parseFloat(amt).toFixed(2)}`;
        document.getElementById('expenseList').appendChild(li);
        document.getElementById('new-expense-desc').value='';
        document.getElementById('new-expense-amt').value='';
      });

      document.getElementById('addPacking').addEventListener('click', () => {
        const text = document.getElementById('newPacking').value.trim();
        if(!text) return;
        const li = document.createElement('li');
        li.className = 'card';
        li.style.marginBottom = '8px';
        li.textContent = text;
        document.getElementById('packingList').appendChild(li);
        document.getElementById('newPacking').value='';
      });

      // Ensure price elements show correct currency symbol on load
      document.querySelectorAll('.price').forEach(node=>{
        const amount = parseFloat(node.dataset.amount || 0);
        node.textContent = (currencySymbols[currency] || currency) + amount.toFixed(2);
      });

      // Prevent accidental horizontal overflow (extra safety)
      window.addEventListener('resize', () => {
        document.body.style.overflowX = 'hidden';
      });

    })();
  </script>
</body>
</html>
